<%- include('../Shared/Head.ejs') %>
    <title> Online Shop | Cart </title>
</head>

<body>
    <%- include('../Shared/Navbar.ejs') %>
    
    <div class="container">

        <% if(!products) { %>
            <h1>Empty</h1>
        <% } else { %>

            <% for(let product of products) { %>

                <div class="cart-item">
                    
                    <img src="/img/<%= product.image === 'null' ? 'images_placeholder.png' : product.image %>" alt="Product Image">
                   
                    <div class="right-part" >

                        <input type="hidden" value="<%= product.cart_item_id %>" readonly hidden >
                        
                        <div class="">
                            <h2 style="margin-bottom: 10px;"><%= product.name %></h2>
                            <p>Description: <%= product.description %> | Lorem ipsum dolor sit amet, consectetur adipisicing elit. Rem quibusdam consequuntur magni totam nam nostrum aspernatur distinctio repellat tempore. Earum natus, quos sed in esse dolore perferendis consectetur qui eos? </p>
                        </div>
                        

                        <div style="display: grid; gap: 1px;">
                            <p>Price: <%= product.price_each %></p>
                           
                            <p>Quantity: <%= product.quantity %></p>
                            <p>Total Price: <%= product.price_total %></p>
                            <div style="width: 100;" >
                                <button>+</button>
                                <button>-</button>
                                <button style="margin-left: auto;" >Remove</button>
                                <button>Checkout</button>
                            </div>
                        </div>

                    </div>

                </div>

            <% } %>

        <% } %>

    </div>

</body>

<style>

    .container {
        border: 1px solid black;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2rem;
        padding: 1rem;
    }

    .cart-item {
        border: 1px black solid;
        padding: 0.5rem;
        width: 80%;
         display: flex; 
        gap: 1rem;
    }

    .right-part {
        padding: 0.5rem;
        display: inline;
        width: 100%;
        gap: 0rem;
        display: grid;
        border: 1px solid black;
    }

    img {
        display: inline;
        width: 250px;
        height: 280px;
        object-fit: cover;
        object-position: center;
        overflow: hidden;
        border-radius: 1rem;
        flex-grow: 0;
        flex-shrink: 0;
    }

  

</style>